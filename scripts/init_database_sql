/*
====================================

Create Database and Schemas

====================================


ğŸ—„ï¸ PostgreSQL â€” Database & Schema Creation Script
ğŸ“˜ Overview

This script creates a new database named DataWarehouse and sets up the three standard layers used in the Medallion Architecture:

bronze

silver

gold

âš ï¸ IMPORTANT WARNING

The command DROP DATABASE permanently deletes the entire DataWarehouse database and all existing data.

ğŸ‘‰ Proceed only if you are absolutely sure and confirm that any required backup has been made.
*/

ğŸš€ PostgreSQL SQL Script

PostgreSQL requires that:

Database creation must be executed from an existing database (e.g., postgres).

Schema creation must be executed inside the newly created database.

ğŸ”· Step 1 â€” Create the Database

ğŸ“Œ Run this step while connected to your default admin database (e.g., postgres )

-- 1. DATABASE DROP AND CREATION  
-- WARNING: THIS WILL DELETE ALL EXISTING DATA IN THE DATABASE!

DROP DATABASE IF EXISTS "DataWarehouse";
CREATE DATABASE "DataWarehouse";

ğŸ”¶ Step 2 â€” Create the Schemas (Bronze, Silver, Gold)

ğŸ“Œ Now switch your connection to the new database before running the commands below.

In psql, use:

\c DataWarehouse

âœ… Schema Creation
-- 3. SCHEMA CREATION
CREATE SCHEMA IF NOT EXISTS bronze;
CREATE SCHEMA IF NOT EXISTS silver;
CREATE SCHEMA IF NOT EXISTS gold;

ğŸ” (Optional) Grant Permissions
-- 4. GRANT PERMISSIONS (ADAPT 'your_user' TO YOUR POSTGRES USER)
GRANT USAGE ON SCHEMA bronze, silver, gold TO your_user;
